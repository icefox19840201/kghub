<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿè®¾ç½® - çŸ¥è¯†å›¾è°±ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .settings-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .settings-nav {
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            flex-wrap: wrap;
            padding: 0;
        }

        .nav-item {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 14px;
            font-weight: 500;
            color: #666;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-item:hover {
            background: #e9ecef;
            color: #333;
        }

        .nav-item.active {
            background: white;
            color: #007bff;
            font-weight: 600;
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: #007bff;
        }

        .settings-content {
            padding: 30px;
        }

        .settings-section {
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .section-title {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #1e7e34;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #007bff;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .settings-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }

        .info-box {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
            color: #0c5460;
        }

        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
            color: #856404;
        }

        .danger-box {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
            color: #721c24;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #007bff, #0056b3);
            height: 100%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 500;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #007bff;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        .log-container {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .log-info { color: #17a2b8; }
        .log-success { color: #28a745; }
        .log-warning { color: #ffc107; }
        .log-error { color: #dc3545; }

        .user-list {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            overflow: hidden;
        }

        .user-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            transition: background 0.3s ease;
        }

        .user-item:hover {
            background: #f8f9fa;
        }

        .user-item:last-child {
            border-bottom: none;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #007bff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 15px;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }

        .user-email {
            color: #666;
            font-size: 0.9rem;
        }

        .user-role {
            background: #e9ecef;
            color: #495057;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .backup-list {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            overflow: hidden;
        }

        .backup-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            transition: background 0.3s ease;
        }

        .backup-item:hover {
            background: #f8f9fa;
        }

        .backup-item:last-child {
            border-bottom: none;
        }

        .backup-info {
            flex: 1;
        }

        .backup-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }

        .backup-date {
            color: #666;
            font-size: 0.9rem;
        }

        .backup-size {
            color: #007bff;
            font-weight: 500;
            margin-right: 15px;
        }

        .success-message {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            animation: slideIn 0.3s ease;
        }

        .error-message {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .settings-nav {
                flex-direction: column;
            }
            
            .nav-item {
                text-align: center;
                border-bottom: 1px solid #e9ecef;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš™ï¸ ç³»ç»Ÿè®¾ç½®</h1>
            <p>é…ç½®å’Œç®¡ç†æ‚¨çš„çŸ¥è¯†å›¾è°±ç³»ç»Ÿ</p>
        </div>

        <div class="settings-container">
            <div class="settings-nav">
                <button class="nav-item active" onclick="showSection('basic')">ğŸ  åŸºç¡€è®¾ç½®</button>
                <button class="nav-item" onclick="showSection('users')">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</button>
                <button class="nav-item" onclick="showSection('security')">ğŸ”’ å®‰å…¨è®¾ç½®</button>
                <button class="nav-item" onclick="showSection('backup')">ğŸ’¾ å¤‡ä»½æ¢å¤</button>
                <button class="nav-item" onclick="showSection('logs')">ğŸ“‹ ç³»ç»Ÿæ—¥å¿—</button>
                <button class="nav-item" onclick="showSection('performance')">âš¡ æ€§èƒ½ä¼˜åŒ–</button>
                <button class="nav-item" onclick="showSection('advanced')">ğŸ”§ é«˜çº§è®¾ç½®</button>
            </div>

            <div class="settings-content">
                <!-- åŸºç¡€è®¾ç½® -->
                <div id="basic" class="settings-section active">
                    <h2 class="section-title">ğŸ  åŸºç¡€è®¾ç½®</h2>
                    
                    <div class="info-box">
                        <strong>ğŸ’¡ æç¤ºï¼š</strong> è¿™äº›è®¾ç½®å°†å½±å“ç³»ç»Ÿçš„åŸºæœ¬è¿è¡Œå‚æ•°ï¼Œè¯·è°¨æ…ä¿®æ”¹ã€‚
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸŒ ç³»ç»Ÿä¿¡æ¯</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">ç³»ç»Ÿåç§°</label>
                                <input type="text" class="form-input" id="systemName" value="çŸ¥è¯†å›¾è°±ç®¡ç†ç³»ç»Ÿ" placeholder="è¯·è¾“å…¥ç³»ç»Ÿåç§°">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ç³»ç»Ÿç‰ˆæœ¬</label>
                                <input type="text" class="form-input" id="systemVersion" value="v2.1.0" readonly>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ç³»ç»Ÿæè¿°</label>
                            <textarea class="form-textarea" id="systemDescription" placeholder="è¯·è¾“å…¥ç³»ç»Ÿæè¿°">åŸºäºäººå·¥æ™ºèƒ½çš„çŸ¥è¯†å›¾è°±æ„å»ºä¸ç®¡ç†ç³»ç»Ÿ</textarea>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸŒ è¯­è¨€ä¸æ—¶åŒº</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">é»˜è®¤è¯­è¨€</label>
                                <select class="form-select" id="defaultLanguage">
                                    <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                                    <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                                    <option value="en-US">English (US)</option>
                                    <option value="en-GB">English (UK)</option>
                                    <option value="ja-JP">æ—¥æœ¬èª</option>
                                    <option value="ko-KR">í•œêµ­ì–´</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">é»˜è®¤æ—¶åŒº</label>
                                <select class="form-select" id="defaultTimezone">
                                    <option value="Asia/Shanghai">Asia/Shanghai (UTC+8)</option>
                                    <option value="Asia/Tokyo">Asia/Tokyo (UTC+9)</option>
                                    <option value="America/New_York">America/New_York (UTC-5/-4)</option>
                                    <option value="Europe/London">Europe/London (UTC+0/+1)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">âš™ï¸ åŠŸèƒ½å¼€å…³</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨ç”¨æˆ·æ³¨å†Œ
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableRegistration" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨é‚®ä»¶é€šçŸ¥
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableEmail" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨æ“ä½œæ—¥å¿—
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableLogging" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨è‡ªåŠ¨å¤‡ä»½
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableAutoBackup" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="saveBasicSettings()">ğŸ’¾ ä¿å­˜è®¾ç½®</button>
                        <button class="btn btn-secondary" onclick="resetBasicSettings()">ğŸ”„ é‡ç½®</button>
                    </div>
                </div>

                <!-- ç”¨æˆ·ç®¡ç† -->
                <div id="users" class="settings-section">
                    <h2 class="section-title">ğŸ‘¥ ç”¨æˆ·ç®¡ç†</h2>
                    
                    <div class="settings-card">
                        <div class="card-title">ğŸ“Š ç”¨æˆ·ç»Ÿè®¡</div>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="totalUsers">156</div>
                                <div class="stat-label">æ€»ç”¨æˆ·æ•°</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="activeUsers">142</div>
                                <div class="stat-label">æ´»è·ƒç”¨æˆ·</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="adminUsers">8</div>
                                <div class="stat-label">ç®¡ç†å‘˜</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="newUsersToday">5</div>
                                <div class="stat-label">ä»Šæ—¥æ–°å¢</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ” ç”¨æˆ·åˆ—è¡¨</div>
                        <div class="form-group">
                            <input type="text" class="form-input" id="userSearch" placeholder="ğŸ” æœç´¢ç”¨æˆ·ï¼ˆå§“åã€é‚®ç®±ã€ç”¨æˆ·åï¼‰" onkeyup="searchUsers()">
                        </div>
                        
                        <div class="user-list" id="userList">
                            <!-- ç”¨æˆ·åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">â• æ·»åŠ æ–°ç”¨æˆ·</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">ç”¨æˆ·å</label>
                                <input type="text" class="form-input" id="newUsername" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
                            </div>
                            <div class="form-group">
                                <label class="form-label">é‚®ç®±</label>
                                <input type="email" class="form-input" id="newEmail" placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">å¯†ç </label>
                                <input type="password" class="form-input" id="newPassword" placeholder="è¯·è¾“å…¥å¯†ç ">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ç”¨æˆ·è§’è‰²</label>
                                <select class="form-select" id="newUserRole">
                                    <option value="user">æ™®é€šç”¨æˆ·</option>
                                    <option value="editor">ç¼–è¾‘è€…</option>
                                    <option value="admin">ç®¡ç†å‘˜</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-success" onclick="addNewUser()">â• æ·»åŠ ç”¨æˆ·</button>
                    </div>
                </div>

                <!-- å®‰å…¨è®¾ç½® -->
                <div id="security" class="settings-section">
                    <h2 class="section-title">ğŸ”’ å®‰å…¨è®¾ç½®</h2>
                    
                    <div class="warning-box">
                        <strong>âš ï¸ å®‰å…¨æé†’ï¼š</strong> è¯·å®šæœŸæ›´æ–°å®‰å…¨è®¾ç½®ï¼Œç¡®ä¿ç³»ç»Ÿå®‰å…¨ã€‚
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ” å¯†ç ç­–ç•¥</div>
                        <div class="form-group">
                            <label class="form-label">æœ€å°å¯†ç é•¿åº¦</label>
                            <input type="number" class="form-input" id="minPasswordLength" value="8" min="6" max="20">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯†ç å¤æ‚åº¦è¦æ±‚
                                <label class="toggle-switch">
                                    <input type="checkbox" id="requireComplexPassword" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¼ºåˆ¶å®šæœŸä¿®æ”¹å¯†ç 
                                <label class="toggle-switch">
                                    <input type="checkbox" id="forcePasswordChange" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯†ç æœ‰æ•ˆæœŸï¼ˆå¤©ï¼‰</label>
                            <input type="number" class="form-input" id="passwordExpiry" value="90" min="30" max="365">
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ›¡ï¸ ç™»å½•å®‰å…¨</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨åŒå› ç´ è®¤è¯
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enable2FA">
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶</label>
                            <input type="number" class="form-input" id="maxLoginAttempts" value="5" min="3" max="10">
                        </div>
                        <div class="form-group">
                            <label class="form-label">è´¦æˆ·é”å®šæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</label>
                            <input type="number" class="form-input" id="lockoutDuration" value="30" min="5" max="60">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨ç™»å½•éªŒè¯ç 
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableCaptcha" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ”‘ APIå®‰å…¨</div>
                        <div class="form-group">
                            <label class="form-label">APIè®¿é—®å¯†é’¥</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" class="form-input" id="apiKey" value="sk-1234567890abcdef" readonly>
                                <button class="btn btn-warning" onclick="regenerateAPIKey()">ğŸ”„ é‡æ–°ç”Ÿæˆ</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">APIè¯·æ±‚é¢‘ç‡é™åˆ¶ï¼ˆæ¬¡/åˆ†é’Ÿï¼‰</label>
                            <input type="number" class="form-input" id="apiRateLimit" value="100" min="50" max="1000">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨APIè®¿é—®æ—¥å¿—
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableAPILogging" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="saveSecuritySettings()">ğŸ’¾ ä¿å­˜å®‰å…¨è®¾ç½®</button>
                        <button class="btn btn-danger" onclick="testSecuritySettings()">ğŸ§ª æµ‹è¯•å®‰å…¨è®¾ç½®</button>
                    </div>
                </div>

                <!-- å¤‡ä»½æ¢å¤ -->
                <div id="backup" class="settings-section">
                    <h2 class="section-title">ğŸ’¾ å¤‡ä»½æ¢å¤</h2>
                    
                    <div class="settings-card">
                        <div class="card-title">ğŸ“Š å¤‡ä»½ç»Ÿè®¡</div>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="totalBackups">12</div>
                                <div class="stat-label">æ€»å¤‡ä»½æ•°</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="latestBackup">2</div>
                                <div class="stat-label">æœ€è¿‘å¤‡ä»½ï¼ˆå¤©å‰ï¼‰</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="backupSize">2.3GB</div>
                                <div class="stat-label">å¤‡ä»½æ€»å¤§å°</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="autoBackupStatus">âœ…</div>
                                <div class="stat-label">è‡ªåŠ¨å¤‡ä»½çŠ¶æ€</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ”„ åˆ›å»ºå¤‡ä»½</div>
                        <div class="form-group">
                            <label class="form-label">å¤‡ä»½åç§°</label>
                            <input type="text" class="form-input" id="backupName" placeholder="è¯·è¾“å…¥å¤‡ä»½åç§°">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¤‡ä»½ç±»å‹</label>
                            <select class="form-select" id="backupType">
                                <option value="full">å®Œæ•´å¤‡ä»½</option>
                                <option value="data">æ•°æ®å¤‡ä»½</option>
                                <option value="config">é…ç½®å¤‡ä»½</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¤‡ä»½æè¿°</label>
                            <textarea class="form-textarea" id="backupDescription" placeholder="è¯·è¾“å…¥å¤‡ä»½æè¿°"></textarea>
                        </div>
                        <button class="btn btn-success" onclick="createBackup()">ğŸ”„ å¼€å§‹å¤‡ä»½</button>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ“‹ å¤‡ä»½åˆ—è¡¨</div>
                        <div class="backup-list" id="backupList">
                            <!-- å¤‡ä»½åˆ—è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">âš™ï¸ è‡ªåŠ¨å¤‡ä»½è®¾ç½®</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨è‡ªåŠ¨å¤‡ä»½
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableAutoBackup" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¤‡ä»½é¢‘ç‡</label>
                            <select class="form-select" id="backupFrequency">
                                <option value="daily">æ¯å¤©</option>
                                <option value="weekly">æ¯å‘¨</option>
                                <option value="monthly">æ¯æœˆ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ä¿ç•™å¤‡ä»½æ•°é‡</label>
                            <input type="number" class="form-input" id="maxBackups" value="10" min="5" max="50">
                        </div>
                        <button class="btn btn-primary" onclick="saveBackupSettings()">ğŸ’¾ ä¿å­˜å¤‡ä»½è®¾ç½®</button>
                    </div>
                </div>

                <!-- ç³»ç»Ÿæ—¥å¿— -->
                <div id="logs" class="settings-section">
                    <h2 class="section-title">ğŸ“‹ ç³»ç»Ÿæ—¥å¿—</h2>
                    
                    <div class="settings-card">
                        <div class="card-title">ğŸ” æ—¥å¿—ç­›é€‰</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">æ—¥å¿—çº§åˆ«</label>
                                <select class="form-select" id="logLevel" onchange="filterLogs()">
                                    <option value="all">å…¨éƒ¨çº§åˆ«</option>
                                    <option value="info">ä¿¡æ¯</option>
                                    <option value="success">æˆåŠŸ</option>
                                    <option value="warning">è­¦å‘Š</option>
                                    <option value="error">é”™è¯¯</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">æ—¶é—´èŒƒå›´</label>
                                <select class="form-select" id="timeRange" onchange="filterLogs()">
                                    <option value="1h">æœ€è¿‘1å°æ—¶</option>
                                    <option value="24h">æœ€è¿‘24å°æ—¶</option>
                                    <option value="7d">æœ€è¿‘7å¤©</option>
                                    <option value="30d">æœ€è¿‘30å¤©</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">æœç´¢æ—¥å¿—</label>
                            <input type="text" class="form-input" id="logSearch" placeholder="æœç´¢æ—¥å¿—å†…å®¹..." onkeyup="searchLogs()">
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ“Š æ—¥å¿—ç»Ÿè®¡</div>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="totalLogs">1,234</div>
                                <div class="stat-label">æ€»æ—¥å¿—æ•°</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="errorLogs">12</div>
                                <div class="stat-label">é”™è¯¯æ—¥å¿—</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="warningLogs">45</div>
                                <div class="stat-label">è­¦å‘Šæ—¥å¿—</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="logSize">2.1MB</div>
                                <div class="stat-label">æ—¥å¿—å¤§å°</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ“ ç³»ç»Ÿæ—¥å¿—</div>
                        <div class="log-container" id="logContainer">
                            <!-- æ—¥å¿—å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-warning" onclick="clearLogs()">ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—</button>
                        <button class="btn btn-primary" onclick="exportLogs()">ğŸ“¤ å¯¼å‡ºæ—¥å¿—</button>
                        <button class="btn btn-success" onclick="refreshLogs()">ğŸ”„ åˆ·æ–°æ—¥å¿—</button>
                    </div>
                </div>

                <!-- æ€§èƒ½ä¼˜åŒ– -->
                <div id="performance" class="settings-section">
                    <h2 class="section-title">âš¡ æ€§èƒ½ä¼˜åŒ–</h2>
                    
                    <div class="settings-card">
                        <div class="card-title">ğŸ“Š æ€§èƒ½ç›‘æ§</div>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number" id="cpuUsage">45%</div>
                                <div class="stat-label">CPUä½¿ç”¨ç‡</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="memoryUsage">68%</div>
                                <div class="stat-label">å†…å­˜ä½¿ç”¨ç‡</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="diskUsage">72%</div>
                                <div class="stat-label">ç£ç›˜ä½¿ç”¨ç‡</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number" id="responseTime">120ms</div>
                                <div class="stat-label">å¹³å‡å“åº”æ—¶é—´</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸš€ ç¼“å­˜è®¾ç½®</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨ç¼“å­˜
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableCache" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰</label>
                            <input type="number" class="form-input" id="cacheExpiry" value="3600" min="300" max="86400">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æœ€å¤§ç¼“å­˜æ¡ç›®æ•°</label>
                            <input type="number" class="form-input" id="maxCacheEntries" value="1000" min="100" max="10000">
                        </div>
                        <button class="btn btn-warning" onclick="clearCache()">ğŸ§¹ æ¸…ç©ºç¼“å­˜</button>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ“ˆ æ•°æ®åº“ä¼˜åŒ–</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨æ•°æ®åº“è¿æ¥æ± 
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableConnectionPool" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">æœ€å¤§è¿æ¥æ•°</label>
                            <input type="number" class="form-input" id="maxConnections" value="20" min="5" max="100">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æŸ¥è¯¢è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</label>
                            <input type="number" class="form-input" id="queryTimeout" value="30" min="10" max="300">
                        </div>
                        <button class="btn btn-primary" onclick="optimizeDatabase()">ğŸ”§ ä¼˜åŒ–æ•°æ®åº“</button>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸŒ ç½‘ç»œä¼˜åŒ–</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨GZIPå‹ç¼©
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableGzip" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨CDNåŠ é€Ÿ
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableCDN">
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">é™æ€èµ„æºç¼“å­˜æ—¶é—´ï¼ˆå°æ—¶ï¼‰</label>
                            <input type="number" class="form-input" id="staticCacheTime" value="24" min="1" max="168">
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="savePerformanceSettings()">ğŸ’¾ ä¿å­˜æ€§èƒ½è®¾ç½®</button>
                        <button class="btn btn-success" onclick="runPerformanceTest()">ğŸ§ª æ€§èƒ½æµ‹è¯•</button>
                    </div>
                </div>

                <!-- é«˜çº§è®¾ç½® -->
                <div id="advanced" class="settings-section">
                    <h2 class="section-title">ğŸ”§ é«˜çº§è®¾ç½®</h2>
                    
                    <div class="danger-box">
                        <strong>âš ï¸ å±é™©æ“ä½œè­¦å‘Šï¼š</strong> é«˜çº§è®¾ç½®å¯èƒ½å½±å“ç³»ç»Ÿç¨³å®šæ€§ï¼Œè¯·è°¨æ…æ“ä½œã€‚
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ”§ ç³»ç»Ÿç»´æŠ¤</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨ç»´æŠ¤æ¨¡å¼
                                <label class="toggle-switch">
                                    <input type="checkbox" id="maintenanceMode">
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ç»´æŠ¤æ¨¡å¼æ¶ˆæ¯</label>
                            <textarea class="form-textarea" id="maintenanceMessage" placeholder="ç³»ç»Ÿæ­£åœ¨ç»´æŠ¤ä¸­ï¼Œè¯·ç¨åå†è®¿é—®...">ç³»ç»Ÿæ­£åœ¨ç»´æŠ¤ä¸­ï¼Œè¯·ç¨åå†è®¿é—®...</textarea>
                        </div>
                        <button class="btn btn-warning" onclick="clearSystemCache()">ğŸ§¹ æ¸…ç†ç³»ç»Ÿç¼“å­˜</button>
                        <button class="btn btn-danger" onclick="restartSystem()">ğŸ”„ é‡å¯ç³»ç»Ÿ</button>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ“Š æ•°æ®ç®¡ç†</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨æ•°æ®å‹ç¼©
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableDataCompression" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">æ•°æ®ä¿ç•™æ—¶é—´ï¼ˆå¤©ï¼‰</label>
                            <input type="number" class="form-input" id="dataRetentionDays" value="365" min="30" max="1825">
                        </div>
                        <div class="form-group">
                            <label class="form-label">æœ€å¤§å­˜å‚¨ç©ºé—´ï¼ˆGBï¼‰</label>
                            <input type="number" class="form-input" id="maxStorageSpace" value="100" min="10" max="1000">
                        </div>
                        <button class="btn btn-warning" onclick="cleanupOldData()">ğŸ§¹ æ¸…ç†æ—§æ•°æ®</button>
                        <button class="btn btn-danger" onclick="resetDatabase()">âš ï¸ é‡ç½®æ•°æ®åº“</button>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸ”Œ æ’ä»¶ç®¡ç†</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨æ’ä»¶ç³»ç»Ÿ
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enablePlugins" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">è‡ªåŠ¨æ›´æ–°æ’ä»¶
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoUpdatePlugins">
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <button class="btn btn-primary" onclick="managePlugins()">ğŸ”Œ ç®¡ç†æ’ä»¶</button>
                        <button class="btn btn-warning" onclick="updateAllPlugins()">ğŸ”„ æ›´æ–°æ‰€æœ‰æ’ä»¶</button>
                    </div>

                    <div class="settings-card">
                        <div class="card-title">ğŸŒ å¤–éƒ¨é›†æˆ</div>
                        <div class="form-group">
                            <label class="form-label">å¯ç”¨ç¬¬ä¸‰æ–¹é›†æˆ
                                <label class="toggle-switch">
                                    <input type="checkbox" id="enableThirdParty">
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Webhook URL</label>
                            <input type="text" class="form-input" id="webhookUrl" placeholder="https://your-webhook-url.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">APIåŸºç¡€URL</label>
                            <input type="text" class="form-input" id="apiBaseUrl" placeholder="https://api.your-domain.com">
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="saveAdvancedSettings()">ğŸ’¾ ä¿å­˜é«˜çº§è®¾ç½®</button>
                        <button class="btn btn-success" onclick="exportSettings()">ğŸ“¤ å¯¼å‡ºè®¾ç½®</button>
                        <button class="btn btn-primary" onclick="importSettings()">ğŸ“¥ å¯¼å…¥è®¾ç½®</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentSection = 'basic';
        let users = [];
        let backups = [];
        let logs = [];

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeData();
            loadSettings();
            updateStats();
            startPerformanceMonitoring();
        });

        // é¡µé¢åˆ‡æ¢
        function showSection(sectionId) {
            // éšè—æ‰€æœ‰section
            document.querySelectorAll('.settings-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰å¯¼èˆªé¡¹çš„activeçŠ¶æ€
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„section
            document.getElementById(sectionId).classList.add('active');
            
            // è®¾ç½®å¯¼èˆªé¡¹ä¸ºactive
            event.target.classList.add('active');
            
            currentSection = sectionId;
            
            // æ ¹æ®sectionåŠ è½½ç›¸åº”æ•°æ®
            switch(sectionId) {
                case 'users':
                    loadUsers();
                    break;
                case 'backup':
                    loadBackups();
                    break;
                case 'logs':
                    loadLogs();
                    break;
            }
        }

        // åˆå§‹åŒ–æ•°æ®
        function initializeData() {
            // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®
            users = [
                { id: 1, username: 'admin', email: 'admin@example.com', role: 'admin', status: 'active', lastLogin: '2024-01-15 10:30:00' },
                { id: 2, username: 'editor1', email: 'editor1@example.com', role: 'editor', status: 'active', lastLogin: '2024-01-14 15:45:00' },
                { id: 3, username: 'user1', email: 'user1@example.com', role: 'user', status: 'active', lastLogin: '2024-01-13 09:20:00' },
                { id: 4, username: 'user2', email: 'user2@example.com', role: 'user', status: 'inactive', lastLogin: '2024-01-10 14:15:00' }
            ];
            
            // æ¨¡æ‹Ÿå¤‡ä»½æ•°æ®
            backups = [
                { id: 1, name: 'å®Œæ•´å¤‡ä»½-2024-01-15', type: 'full', size: '856MB', date: '2024-01-15 02:00:00', status: 'completed' },
                { id: 2, name: 'æ•°æ®å¤‡ä»½-2024-01-14', type: 'data', size: '432MB', date: '2024-01-14 02:00:00', status: 'completed' },
                { id: 3, name: 'é…ç½®å¤‡ä»½-2024-01-13', type: 'config', size: '15MB', date: '2024-01-13 02:00:00', status: 'completed' }
            ];
            
            // æ¨¡æ‹Ÿæ—¥å¿—æ•°æ®
            logs = [
                { timestamp: '2024-01-15 10:30:00', level: 'info', message: 'ç³»ç»Ÿå¯åŠ¨æˆåŠŸ' },
                { timestamp: '2024-01-15 10:29:00', level: 'success', message: 'æ•°æ®åº“è¿æ¥æˆåŠŸ' },
                { timestamp: '2024-01-15 10:28:00', level: 'warning', message: 'ç¼“å­˜ç©ºé—´ä¸è¶³ï¼Œå»ºè®®æ¸…ç†' },
                { timestamp: '2024-01-15 10:27:00', level: 'error', message: 'APIè¯·æ±‚è¶…æ—¶ï¼š/api/users' }
            ];
        }

        // åŠ è½½è®¾ç½®
        function loadSettings() {
            // è¿™é‡Œå¯ä»¥ä»localStorageæˆ–æœåŠ¡å™¨åŠ è½½è®¾ç½®
            const settings = JSON.parse(localStorage.getItem('systemSettings') || '{}');
            
            // åŸºç¡€è®¾ç½®
            document.getElementById('systemName').value = settings.systemName || 'çŸ¥è¯†å›¾è°±ç®¡ç†ç³»ç»Ÿ';
            document.getElementById('defaultLanguage').value = settings.defaultLanguage || 'zh-CN';
            document.getElementById('defaultTimezone').value = settings.defaultTimezone || 'Asia/Shanghai';
            
            // å®‰å…¨è®¾ç½®
            document.getElementById('minPasswordLength').value = settings.minPasswordLength || '8';
            document.getElementById('maxLoginAttempts').value = settings.maxLoginAttempts || '5';
            document.getElementById('lockoutDuration').value = settings.lockoutDuration || '30';
            
            // å¤‡ä»½è®¾ç½®
            document.getElementById('maxBackups').value = settings.maxBackups || '10';
            
            // æ€§èƒ½è®¾ç½®
            document.getElementById('cacheExpiry').value = settings.cacheExpiry || '3600';
            document.getElementById('maxConnections').value = settings.maxConnections || '20';
        }

        // ä¿å­˜åŸºç¡€è®¾ç½®
        function saveBasicSettings() {
            const settings = {
                systemName: document.getElementById('systemName').value,
                systemDescription: document.getElementById('systemDescription').value,
                defaultLanguage: document.getElementById('defaultLanguage').value,
                defaultTimezone: document.getElementById('defaultTimezone').value,
                enableRegistration: document.getElementById('enableRegistration').checked,
                enableEmail: document.getElementById('enableEmail').checked,
                enableLogging: document.getElementById('enableLogging').checked,
                enableAutoBackup: document.getElementById('enableAutoBackup').checked
            };
            
            localStorage.setItem('systemSettings', JSON.stringify(settings));
            showSuccess('åŸºç¡€è®¾ç½®ä¿å­˜æˆåŠŸï¼');
        }

        // é‡ç½®åŸºç¡€è®¾ç½®
        function resetBasicSettings() {
            if (confirm('ç¡®å®šè¦é‡ç½®åŸºç¡€è®¾ç½®å—ï¼Ÿ')) {
                document.getElementById('systemName').value = 'çŸ¥è¯†å›¾è°±ç®¡ç†ç³»ç»Ÿ';
                document.getElementById('systemDescription').value = 'åŸºäºäººå·¥æ™ºèƒ½çš„çŸ¥è¯†å›¾è°±æ„å»ºä¸ç®¡ç†ç³»ç»Ÿ';
                document.getElementById('defaultLanguage').value = 'zh-CN';
                document.getElementById('defaultTimezone').value = 'Asia/Shanghai';
                document.getElementById('enableRegistration').checked = true;
                document.getElementById('enableEmail').checked = true;
                document.getElementById('enableLogging').checked = true;
                document.getElementById('enableAutoBackup').checked = true;
                
                showSuccess('åŸºç¡€è®¾ç½®å·²é‡ç½®ï¼');
            }
        }

        // ç”¨æˆ·ç®¡ç†åŠŸèƒ½
        function loadUsers() {
            renderUserList();
            updateUserStats();
        }

        function renderUserList() {
            const userList = document.getElementById('userList');
            const searchTerm = document.getElementById('userSearch').value.toLowerCase();
            
            const filteredUsers = users.filter(user => 
                user.username.toLowerCase().includes(searchTerm) ||
                user.email.toLowerCase().includes(searchTerm) ||
                user.role.toLowerCase().includes(searchTerm)
            );
            
            userList.innerHTML = filteredUsers.map(user => `
                <div class="user-item">
                    <div class="user-avatar">${user.username.charAt(0).toUpperCase()}</div>
                    <div class="user-info">
                        <div class="user-name">${user.username}</div>
                        <div class="user-email">${user.email}</div>
                    </div>
                    <div class="user-role">${getRoleName(user.role)}</div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="editUser(${user.id})" style="padding: 5px 10px; font-size: 12px;">âœï¸ ç¼–è¾‘</button>
                        <button class="btn btn-danger" onclick="deleteUser(${user.id})" style="padding: 5px 10px; font-size: 12px;">ğŸ—‘ï¸ åˆ é™¤</button>
                    </div>
                </div>
            `).join('');
        }

        function getRoleName(role) {
            const roleMap = {
                'admin': 'ç®¡ç†å‘˜',
                'editor': 'ç¼–è¾‘è€…',
                'user': 'æ™®é€šç”¨æˆ·'
            };
            return roleMap[role] || role;
        }

        function searchUsers() {
            renderUserList();
        }

        function updateUserStats() {
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('activeUsers').textContent = users.filter(u => u.status === 'active').length;
            document.getElementById('adminUsers').textContent = users.filter(u => u.role === 'admin').length;
            document.getElementById('newUsersToday').textContent = Math.floor(Math.random() * 10) + 1;
        }

        function addNewUser() {
            const username = document.getElementById('newUsername').value;
            const email = document.getElementById('newEmail').value;
            const password = document.getElementById('newPassword').value;
            const role = document.getElementById('newUserRole').value;
            
            if (!username || !email || !password) {
                alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ');
                return;
            }
            
            const newUser = {
                id: Date.now(),
                username: username,
                email: email,
                role: role,
                status: 'active',
                lastLogin: new Date().toLocaleString()
            };
            
            users.push(newUser);
            renderUserList();
            updateUserStats();
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('newUsername').value = '';
            document.getElementById('newEmail').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('newUserRole').value = 'user';
            
            showSuccess('ç”¨æˆ·æ·»åŠ æˆåŠŸï¼');
        }

        function editUser(userId) {
            const user = users.find(u => u.id === userId);
            if (user) {
                const newRole = prompt('è¯·é€‰æ‹©ç”¨æˆ·è§’è‰²ï¼š', user.role);
                if (newRole && ['admin', 'editor', 'user'].includes(newRole)) {
                    user.role = newRole;
                    renderUserList();
                    showSuccess('ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸï¼');
                }
            }
        }

        function deleteUser(userId) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¯¥ç”¨æˆ·å—ï¼Ÿ')) {
                users = users.filter(u => u.id !== userId);
                renderUserList();
                updateUserStats();
                showSuccess('ç”¨æˆ·åˆ é™¤æˆåŠŸï¼');
            }
        }

        // å®‰å…¨è®¾ç½®åŠŸèƒ½
        function saveSecuritySettings() {
            const securitySettings = {
                minPasswordLength: document.getElementById('minPasswordLength').value,
                requireComplexPassword: document.getElementById('requireComplexPassword').checked,
                forcePasswordChange: document.getElementById('forcePasswordChange').checked,
                passwordExpiry: document.getElementById('passwordExpiry').value,
                enable2FA: document.getElementById('enable2FA').checked,
                maxLoginAttempts: document.getElementById('maxLoginAttempts').value,
                lockoutDuration: document.getElementById('lockoutDuration').value,
                enableCaptcha: document.getElementById('enableCaptcha').checked,
                apiRateLimit: document.getElementById('apiRateLimit').value,
                enableAPILogging: document.getElementById('enableAPILogging').checked
            };
            
            localStorage.setItem('securitySettings', JSON.stringify(securitySettings));
            showSuccess('å®‰å…¨è®¾ç½®ä¿å­˜æˆåŠŸï¼');
        }

        function regenerateAPIKey() {
            if (confirm('ç¡®å®šè¦é‡æ–°ç”ŸæˆAPIå¯†é’¥å—ï¼Ÿç°æœ‰å¯†é’¥å°†å¤±æ•ˆã€‚')) {
                const newKey = 'sk-' + Math.random().toString(36).substr(2, 16);
                document.getElementById('apiKey').value = newKey;
                showSuccess('APIå¯†é’¥å·²é‡æ–°ç”Ÿæˆï¼');
            }
        }

        function testSecuritySettings() {
            showSuccess('å®‰å…¨è®¾ç½®æµ‹è¯•å®Œæˆï¼Œæ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼');
        }

        // å¤‡ä»½æ¢å¤åŠŸèƒ½
        function loadBackups() {
            renderBackupList();
            updateBackupStats();
        }

        function renderBackupList() {
            const backupList = document.getElementById('backupList');
            
            backupList.innerHTML = backups.map(backup => `
                <div class="backup-item">
                    <div class="backup-info">
                        <div class="backup-name">${backup.name}</div>
                        <div class="backup-date">${backup.date}</div>
                    </div>
                    <div class="backup-size">${backup.size}</div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="restoreBackup(${backup.id})" style="padding: 5px 10px; font-size: 12px;">ğŸ“¥ æ¢å¤</button>
                        <button class="btn btn-danger" onclick="deleteBackup(${backup.id})" style="padding: 5px 10px; font-size: 12px;">ğŸ—‘ï¸ åˆ é™¤</button>
                    </div>
                </div>
            `).join('');
        }

        function updateBackupStats() {
            document.getElementById('totalBackups').textContent = backups.length;
            document.getElementById('latestBackup').textContent = backups.length > 0 ? '2' : 'N/A';
            document.getElementById('backupSize').textContent = '2.3GB';
            document.getElementById('autoBackupStatus').textContent = document.getElementById('enableAutoBackup').checked ? 'âœ…' : 'âŒ';
        }

        function createBackup() {
            const name = document.getElementById('backupName').value || 'å¤‡ä»½-' + new Date().toLocaleDateString();
            const type = document.getElementById('backupType').value;
            const description = document.getElementById('backupDescription').value;
            
            if (!name) {
                alert('è¯·è¾“å…¥å¤‡ä»½åç§°');
                return;
            }
            
            const newBackup = {
                id: Date.now(),
                name: name,
                type: type,
                size: (Math.random() * 1000 + 100).toFixed(0) + 'MB',
                date: new Date().toLocaleString(),
                status: 'completed',
                description: description
            };
            
            backups.unshift(newBackup);
            renderBackupList();
            updateBackupStats();
            
            // æ¸…ç©ºè¡¨å•
            document.getElementById('backupName').value = '';
            document.getElementById('backupDescription').value = '';
            
            showSuccess('å¤‡ä»½åˆ›å»ºæˆåŠŸï¼');
        }

        function restoreBackup(backupId) {
            const backup = backups.find(b => b.id === backupId);
            if (backup && confirm(`ç¡®å®šè¦æ¢å¤å¤‡ä»½ "${backup.name}" å—ï¼Ÿå½“å‰æ•°æ®å°†è¢«è¦†ç›–ã€‚`)) {
                showSuccess(`æ­£åœ¨æ¢å¤å¤‡ä»½ "${backup.name}"...`);
                setTimeout(() => {
                    showSuccess('å¤‡ä»½æ¢å¤æˆåŠŸï¼');
                }, 2000);
            }
        }

        function deleteBackup(backupId) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¯¥å¤‡ä»½å—ï¼Ÿ')) {
                backups = backups.filter(b => b.id !== backupId);
                renderBackupList();
                updateBackupStats();
                showSuccess('å¤‡ä»½åˆ é™¤æˆåŠŸï¼');
            }
        }

        function saveBackupSettings() {
            const backupSettings = {
                enableAutoBackup: document.getElementById('enableAutoBackup').checked,
                backupFrequency: document.getElementById('backupFrequency').value,
                maxBackups: document.getElementById('maxBackups').value
            };
            
            localStorage.setItem('backupSettings', JSON.stringify(backupSettings));
            showSuccess('å¤‡ä»½è®¾ç½®ä¿å­˜æˆåŠŸï¼');
        }

        // ç³»ç»Ÿæ—¥å¿—åŠŸèƒ½
        function loadLogs() {
            renderLogs();
            updateLogStats();
        }

        function renderLogs() {
            const logContainer = document.getElementById('logContainer');
            const logLevel = document.getElementById('logLevel').value;
            const searchTerm = document.getElementById('logSearch').value.toLowerCase();
            
            let filteredLogs = logs;
            
            // æŒ‰çº§åˆ«ç­›é€‰
            if (logLevel !== 'all') {
                filteredLogs = filteredLogs.filter(log => log.level === logLevel);
            }
            
            // æŒ‰æœç´¢è¯ç­›é€‰
            if (searchTerm) {
                filteredLogs = filteredLogs.filter(log => 
                    log.message.toLowerCase().includes(searchTerm)
                );
            }
            
            logContainer.innerHTML = filteredLogs.map(log => `
                <div class="log-entry log-${log.level}">
                    [${log.timestamp}] [${log.level.toUpperCase()}] ${log.message}
                </div>
            `).join('');
        }

        function filterLogs() {
            renderLogs();
        }

        function searchLogs() {
            renderLogs();
        }

        function updateLogStats() {
            document.getElementById('totalLogs').textContent = logs.length;
            document.getElementById('errorLogs').textContent = logs.filter(l => l.level === 'error').length;
            document.getElementById('warningLogs').textContent = logs.filter(l => l.level === 'warning').length;
            document.getElementById('logSize').textContent = '2.1MB';
        }

        function clearLogs() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ—¥å¿—å—ï¼Ÿ')) {
                logs = [];
                renderLogs();
                updateLogStats();
                showSuccess('æ—¥å¿—å·²æ¸…ç©ºï¼');
            }
        }

        function exportLogs() {
            const logContent = logs.map(log => `[${log.timestamp}] [${log.level.toUpperCase()}] ${log.message}`).join('\n');
            const blob = new Blob([logContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'system-logs-' + new Date().toISOString().slice(0, 10) + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showSuccess('æ—¥å¿—å¯¼å‡ºæˆåŠŸï¼');
        }

        function refreshLogs() {
            // æ¨¡æ‹Ÿæ·»åŠ æ–°æ—¥å¿—
            const newLog = {
                timestamp: new Date().toLocaleString(),
                level: ['info', 'success', 'warning', 'error'][Math.floor(Math.random() * 4)],
                message: 'ç³»ç»Ÿæ—¥å¿—å·²åˆ·æ–°'
            };
            logs.unshift(newLog);
            renderLogs();
            updateLogStats();
            showSuccess('æ—¥å¿—å·²åˆ·æ–°ï¼');
        }

        // æ€§èƒ½ä¼˜åŒ–åŠŸèƒ½
        function startPerformanceMonitoring() {
            // æ¨¡æ‹Ÿæ€§èƒ½ç›‘æ§
            setInterval(() => {
                document.getElementById('cpuUsage').textContent = Math.floor(Math.random() * 40 + 30) + '%';
                document.getElementById('memoryUsage').textContent = Math.floor(Math.random() * 30 + 50) + '%';
                document.getElementById('diskUsage').textContent = Math.floor(Math.random() * 20 + 60) + '%';
                document.getElementById('responseTime').textContent = Math.floor(Math.random() * 100 + 80) + 'ms';
            }, 5000);
        }

        function clearCache() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºç¼“å­˜å—ï¼Ÿ')) {
                showSuccess('ç¼“å­˜å·²æ¸…ç©ºï¼');
            }
        }

        function optimizeDatabase() {
            showSuccess('æ•°æ®åº“ä¼˜åŒ–å®Œæˆï¼');
        }

        function savePerformanceSettings() {
            const performanceSettings = {
                enableCache: document.getElementById('enableCache').checked,
                cacheExpiry: document.getElementById('cacheExpiry').value,
                maxCacheEntries: document.getElementById('maxCacheEntries').value,
                enableConnectionPool: document.getElementById('enableConnectionPool').checked,
                maxConnections: document.getElementById('maxConnections').value,
                queryTimeout: document.getElementById('queryTimeout').value,
                enableGzip: document.getElementById('enableGzip').checked,
                enableCDN: document.getElementById('enableCDN').checked,
                staticCacheTime: document.getElementById('staticCacheTime').value
            };
            
            localStorage.setItem('performanceSettings', JSON.stringify(performanceSettings));
            showSuccess('æ€§èƒ½è®¾ç½®ä¿å­˜æˆåŠŸï¼');
        }

        function runPerformanceTest() {
            showSuccess('æ€§èƒ½æµ‹è¯•å®Œæˆï¼ç³»ç»Ÿè¿è¡Œæ­£å¸¸ã€‚');
        }

        // é«˜çº§è®¾ç½®åŠŸèƒ½
        function clearSystemCache() {
            if (confirm('ç¡®å®šè¦æ¸…ç†ç³»ç»Ÿç¼“å­˜å—ï¼Ÿ')) {
                showSuccess('ç³»ç»Ÿç¼“å­˜å·²æ¸…ç†ï¼');
            }
        }

        function restartSystem() {
            if (confirm('ç¡®å®šè¦é‡å¯ç³»ç»Ÿå—ï¼Ÿæ‰€æœ‰ç”¨æˆ·å°†è¢«ç™»å‡ºã€‚')) {
                showSuccess('ç³»ç»Ÿæ­£åœ¨é‡å¯ï¼Œè¯·ç¨å€™...');
                setTimeout(() => {
                    showSuccess('ç³»ç»Ÿé‡å¯æˆåŠŸï¼');
                }, 3000);
            }
        }

        function cleanupOldData() {
            if (confirm('ç¡®å®šè¦æ¸…ç†æ—§æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚')) {
                showSuccess('æ—§æ•°æ®æ¸…ç†å®Œæˆï¼');
            }
        }

        function resetDatabase() {
            if (confirm('âš ï¸ è­¦å‘Šï¼šç¡®å®šè¦é‡ç½®æ•°æ®åº“å—ï¼Ÿæ‰€æœ‰æ•°æ®å°†è¢«åˆ é™¤ä¸”ä¸å¯æ¢å¤ï¼')) {
                showSuccess('æ•°æ®åº“é‡ç½®å®Œæˆï¼');
            }
        }

        function managePlugins() {
            showSuccess('æ’ä»¶ç®¡ç†åŠŸèƒ½å¼€å‘ä¸­...');
        }

        function updateAllPlugins() {
            showSuccess('æ‰€æœ‰æ’ä»¶å·²æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼');
        }

        function saveAdvancedSettings() {
            const advancedSettings = {
                maintenanceMode: document.getElementById('maintenanceMode').checked,
                maintenanceMessage: document.getElementById('maintenanceMessage').value,
                enableDataCompression: document.getElementById('enableDataCompression').checked,
                dataRetentionDays: document.getElementById('dataRetentionDays').value,
                maxStorageSpace: document.getElementById('maxStorageSpace').value,
                enablePlugins: document.getElementById('enablePlugins').checked,
                autoUpdatePlugins: document.getElementById('autoUpdatePlugins').checked,
                enableThirdParty: document.getElementById('enableThirdParty').checked,
                webhookUrl: document.getElementById('webhookUrl').value,
                apiBaseUrl: document.getElementById('apiBaseUrl').value
            };
            
            localStorage.setItem('advancedSettings', JSON.stringify(advancedSettings));
            showSuccess('é«˜çº§è®¾ç½®ä¿å­˜æˆåŠŸï¼');
        }

        function exportSettings() {
            const allSettings = {
                basic: JSON.parse(localStorage.getItem('systemSettings') || '{}'),
                security: JSON.parse(localStorage.getItem('securitySettings') || '{}'),
                backup: JSON.parse(localStorage.getItem('backupSettings') || '{}'),
                performance: JSON.parse(localStorage.getItem('performanceSettings') || '{}'),
                advanced: JSON.parse(localStorage.getItem('advancedSettings') || '{}')
            };
            
            const settingsJson = JSON.stringify(allSettings, null, 2);
            const blob = new Blob([settingsJson], { type: 'application/json;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'system-settings-' + new Date().toISOString().slice(0, 10) + '.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showSuccess('è®¾ç½®å¯¼å‡ºæˆåŠŸï¼');
        }

        function importSettings() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const settings = JSON.parse(e.target.result);
                            // è¿™é‡Œå¯ä»¥æ·»åŠ è®¾ç½®å¯¼å…¥é€»è¾‘
                            showSuccess('è®¾ç½®å¯¼å…¥æˆåŠŸï¼');
                        } catch (error) {
                            showError('è®¾ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯ï¼');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        // é€šç”¨å·¥å…·å‡½æ•°
        function showSuccess(message) {
            showMessage(message, 'success');
        }

        function showError(message) {
            showMessage(message, 'error');
        }

        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 'error-message';
            messageDiv.textContent = message;
            
            const container = document.querySelector('.settings-content');
            container.insertBefore(messageDiv, container.firstChild);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 3000);
        }

        function updateStats() {
            // æ›´æ–°å„ç§ç»Ÿè®¡æ•°æ®
            updateUserStats();
            updateBackupStats();
            updateLogStats();
        }
    </script>
</body>
</html>